{
  "$schema": "https://railway.app/config/v2024.05.31.schema.json",
  "project": {
    "name": "LeafLock",
    "services": [
      {
        "name": "LeafLock Backend",
        "path": "backend",
        "dockerfilePath": "backend/Dockerfile",
        "plugins": [
          { "name": "postgres" },
          { "name": "redis" }
        ],
        "variables": {
          "APP_ENV": "production",
          "PORT": "8080",
          "ENABLE_DEFAULT_ADMIN": "true",
          "ENABLE_REGISTRATION": "false",
          "ENABLE_METRICS": "true",
          "DEFAULT_ADMIN_EMAIL": "admin@leaflock.local",
          "DEFAULT_ADMIN_PASSWORD": "ChangeThisAdminPassword123!",
          "JWT_SECRET": "dev-super-secret-jwt-key-change-me-please-64-characters-long!!!!",
          "SERVER_ENCRYPTION_KEY": "c9f7IloUZlY6qSdB5KTNLJHdKEJaDbOt",
          "CORS_ORIGINS": "https://leaflock-frontend-production.up.railway.app",
          "RAILWAY_BACKEND_KEYWORDS": "LEAFLOCK_BACKEND|BACKEND|API|SERVER|APP|SERVICE",
          "RAILWAY_BACKEND_PORT": "8080"
        }
      },
      {
        "name": "LeafLock Frontend",
        "path": "frontend",
        "dockerfilePath": "frontend/Dockerfile",
        "variables": {
          "PORT": "80",
          "BACKEND_INTERNAL_URL": "http://backend:8080",
          "VITE_API_URL": "https://leaflock-backend-production.up.railway.app",
          "VITE_ENABLE_ADMIN_PANEL": "false"
        }
      }
    ]
  }
}
