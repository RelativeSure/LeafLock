{
  "$schema": "https://railway.app/config/v2024.05.31.schema.json",
  "project": {
    "name": "LeafLock",
    "services": [
      {
        "name": "LeafLock Backend",
        "path": "backend",
        "dockerfilePath": "backend/Dockerfile",
        "plugins": [
          { "name": "postgres" },
          { "name": "redis" }
        ],
        "variables": {
          "APP_ENV": "production",
          "PORT": "8080",
          "ENABLE_DEFAULT_ADMIN": "true",
          "ENABLE_REGISTRATION": "false",
          "ENABLE_METRICS": "true",
          "DEFAULT_ADMIN_EMAIL": "admin@leaflock.app",
          "DEFAULT_ADMIN_PASSWORD": "LeafLockAdmin!2025",
          "JWT_SECRET": "WZcZ25F3vUQdFaY4i8N3x0TFeTbPbxCMvR8S8i9AqBkeCwwnZC3sQ3qO7O9vF6v7SYz7l1cZ8eVzHV0b7Psjwg==",
          "SERVER_ENCRYPTION_KEY": "8EoD7wqj5XTfuQF1gH0vLQbnX80Koe1g",
          "CORS_ORIGINS": "https://leaflock-frontend-production.up.railway.app",
          "RAILWAY_BACKEND_KEYWORDS": "LEAFLOCK_BACKEND|BACKEND|API|SERVER|APP|SERVICE",
          "RAILWAY_BACKEND_PORT": "8080"
        }
      },
      {
        "name": "LeafLock Frontend",
        "path": "frontend",
        "dockerfilePath": "frontend/Dockerfile",
        "variables": {
          "PORT": "80",
          "BACKEND_INTERNAL_URL": "http://leaflock-backend.railway.internal:8080",
          "VITE_API_URL": "https://leaflock-backend-production.up.railway.app",
          "VITE_ENABLE_ADMIN_PANEL": "false"
        }
      }
    ]
  }
}
