# LeafLock local development overrides
# This file is optional. The docker compose stack provides sensible defaults.
# Copy to .env only if you need to change anything locally.

# Database configuration
POSTGRES_PASSWORD=postgres
DATABASE_URL=postgres://postgres:${POSTGRES_PASSWORD}@localhost:5432/leaflock?sslmode=disable

# Redis configuration
REDIS_URL=redis://localhost:6379

# Application secrets (development defaults only; do not use in production)
JWT_SECRET=dev-super-secret-jwt-key-change-me-please-64-characters-long!!!!
SERVER_ENCRYPTION_KEY=c9f7IloUZlY6qSdB5KTNLJHdKEJaDbOt

# Frontend/backend defaults
CORS_ORIGINS=http://localhost:3000
ENABLE_DEFAULT_ADMIN=true
DEFAULT_ADMIN_EMAIL=admin@leaflock.local
DEFAULT_ADMIN_PASSWORD=ChangeThisAdminPassword123!

# Optional flags
ENABLE_METRICS=true

# ==========================================
# IPv4/IPv6 Configuration (Frontend)
# ==========================================
# The frontend auto-detects the backend URL from the browser's location.
# Set these only if you need to override the default behavior.

# API URL - Backend HTTP endpoint
# Option 1: Auto-detect (recommended) - Leave commented out
# VITE_API_URL=

# Option 2: IPv4 localhost (traditional)
VITE_API_URL=http://localhost:8080

# Option 3: IPv6 localhost (for IPv6-only networks)
# VITE_API_URL=http://[::1]:8080

# WebSocket URL - Real-time collaboration endpoint
# Option 1: Auto-detect (recommended) - Leave commented out
# VITE_WS_URL=

# Option 2: IPv4 localhost
VITE_WS_URL=ws://localhost:8080

# Option 3: IPv6 localhost
# VITE_WS_URL=ws://[::1]:8080

# ==========================================
# Development Server Configuration (Vite)
# ==========================================
# Backend proxy target for Vite dev server
VITE_DEV_BACKEND_HOST=localhost  # or ::1 for IPv6, or 127.0.0.1 for IPv4
VITE_DEV_BACKEND_PORT=8080
VITE_DEV_BACKEND_PROTOCOL=http

# Frontend dev server binding
# :: = Dual-stack (IPv4+IPv6) - RECOMMENDED
# 0.0.0.0 = IPv4 only
# ::1 = IPv6 localhost only
VITE_DEV_HOST=::
VITE_DEV_PORT=3000

# ==========================================
# CORS Configuration (Backend)
# ==========================================
# Include both IPv4 and IPv6 origins if you use both
# CORS_ORIGINS=http://localhost:3000,http://[::1]:3000,http://127.0.0.1:3000
