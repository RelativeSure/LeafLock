<!DOCTYPE html>
<html lang="{{ .Site.LanguageCode }}">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content="{{ if .Params.summary }}{{ .Params.summary }}{{ else }}{{ .Site.Params.description }}{{ end }}" />
    <meta name="author" content="{{ .Site.Params.author }}" />
    <meta name="keywords" content="{{ if .Params.tags }}{{ delimit .Params.tags ", " }}{{ else }}{{ delimit .Site.Params.keywords ", " }}{{ end }}" />

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="{{ if .IsPage }}article{{ else }}website{{ end }}" />
    <meta property="og:url" content="{{ .Permalink }}" />
    <meta property="og:title" content="{{ if .Title }}{{ .Title }}{{ else }}{{ .Site.Title }}{{ end }}" />
    <meta property="og:description" content="{{ if .Params.summary }}{{ .Params.summary }}{{ else }}{{ .Site.Params.description }}{{ end }}" />

    <!-- Twitter -->
    <meta property="twitter:card" content="summary" />
    <meta property="twitter:url" content="{{ .Permalink }}" />
    <meta property="twitter:title" content="{{ if .Title }}{{ .Title }}{{ else }}{{ .Site.Title }}{{ end }}" />
    <meta property="twitter:description" content="{{ if .Params.summary }}{{ .Params.summary }}{{ else }}{{ .Site.Params.description }}{{ end }}" />

    <title>{{ block "title" . }}{{ if .Title }}{{ .Title }} Â· {{ end }}{{ .Site.Title }}{{ end }}</title>

    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <link rel="alternate icon" href="/favicon.ico" />

    <!-- Stylesheets -->
    <link rel="stylesheet" href="{{ "css/main.css" | relURL }}" />

    <!-- RSS Feed -->
    {{ with .OutputFormats.Get "rss" -}}
      {{ printf `<link rel="%s" type="%s" href="%s" title="%s" />` .Rel .MediaType.Type .Permalink $.Site.Title | safeHTML }}
    {{ end -}}

    <!-- Canonical URL -->
    <link rel="canonical" href="{{ .Permalink }}" />

    {{ if .GitInfo }}
    <meta name="git.commit" content="{{ .GitInfo.Hash }}" />
    <meta name="git.date" content="{{ .GitInfo.AuthorDate.Format "2006-01-02T15:04:05Z07:00" }}" />
    {{ end }}
  </head>
  <body>
    <!-- Skip link for accessibility -->
    <a href="#main-content" class="skip-link">Skip to main content</a>

    <header class="site-header">
      <div class="container">
        <a class="brand" href="{{ "/" | relURL }}">LeafLock</a>
        <nav>
          <ul>
            {{ range .Site.Menus.main }}
              <li><a href="{{ .URL | relURL }}"{{ if .Page }} data-page="{{ .Page.RelPermalink }}"{{ end }}>{{ .Name }}</a></li>
            {{ end }}
          </ul>
        </nav>
      </div>
    </header>

    <main id="main-content" class="container">
      {{ block "main" . }}{{ end }}
    </main>

    {{ partial "footer.html" . }}

    <!-- Schema.org structured data -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "{{ if .IsPage }}Article{{ else }}WebSite{{ end }}",
      "name": "{{ if .Title }}{{ .Title }}{{ else }}{{ .Site.Title }}{{ end }}",
      "description": "{{ if .Params.summary }}{{ .Params.summary }}{{ else }}{{ .Site.Params.description }}{{ end }}",
      "url": "{{ .Permalink }}",
      {{ if .IsPage }}"datePublished": "{{ .Date.Format "2006-01-02T15:04:05Z07:00" }}",{{ end }}
      {{ if .Lastmod }}"dateModified": "{{ .Lastmod.Format "2006-01-02T15:04:05Z07:00" }}",{{ end }}
      "author": {
        "@type": "Organization",
        "name": "{{ .Site.Params.author }}"
      },
      "publisher": {
        "@type": "Organization",
        "name": "{{ .Site.Params.author }}",
        "url": "{{ .Site.BaseURL }}"
      }
    }
    </script>
  </body>
</html>
