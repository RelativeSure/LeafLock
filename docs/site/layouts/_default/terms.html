{{ define "main" }}
  <div class="content-wrapper">
    <header>
      <h1>{{ .Title }}</h1>
      <p class="lead">Browse all {{ .Data.Plural | lower }} in LeafLock Documentation</p>
      <div class="meta">
        <span>{{ len .Data.Terms }} {{ if eq (len .Data.Terms) 1 }}{{ .Data.Singular }}{{ else }}{{ .Data.Plural }}{{ end }} available</span>
      </div>
    </header>

    <section class="terms-listing">
      {{ if .Data.Terms }}
        <div class="cards-grid">
          {{ range .Data.Terms.ByCount }}
            <div class="card">
              <h3>
                <a href="{{ .Page.RelPermalink }}">{{ .Name }}</a>
              </h3>
              <p>{{ .Count }} {{ if eq .Count 1 }}page{{ else }}pages{{ end }}</p>

              {{ if .Pages }}
                <ul class="term-pages">
                  {{ range first 3 .Pages.ByWeight }}
                    <li>
                      <a href="{{ .RelPermalink }}">{{ .LinkTitle }}</a>
                    </li>
                  {{ end }}
                  {{ if gt (len .Pages) 3 }}
                    <li>
                      <a href="{{ .Page.RelPermalink }}">...and {{ sub (len .Pages) 3 }} more</a>
                    </li>
                  {{ end }}
                </ul>
              {{ end }}
            </div>
          {{ end }}
        </div>
      {{ else }}
        <p>No {{ .Data.Plural | lower }} found.</p>
      {{ end }}
    </section>
  </div>
{{ end }}