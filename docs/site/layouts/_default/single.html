{{ define "main" }}
  <div class="content-wrapper">
    <article class="content">
      <header>
        <h1>{{ .Title }}</h1>
        {{ with .Params.summary }}<p class="lead">{{ . }}</p>{{ end }}

        <div class="meta">
          {{ with .Lastmod }}<span>üìÖ Last updated: {{ .Format "January 2, 2006" }}</span>{{ end }}
          {{ if .Params.categories }}
            <div class="taxonomy-list">
              {{ range .Params.categories }}
                <a href="{{ "/categories/" | relURL }}{{ . | urlize }}/" class="category">{{ . }}</a>
              {{ end }}
            </div>
          {{ end }}
          {{ if .Params.tags }}
            <div class="taxonomy-list">
              {{ range .Params.tags }}
                <a href="{{ "/tags/" | relURL }}{{ . | urlize }}/" class="tag">{{ . }}</a>
              {{ end }}
            </div>
          {{ end }}
        </div>
      </header>

      {{ if and .Params.toc (ne .Params.toc false) }}
        {{ if gt (len .TableOfContents) 100 }}
          <aside class="toc">
            <h3>Table of Contents</h3>
            {{ .TableOfContents }}
          </aside>
        {{ end }}
      {{ end }}

      <div class="markdown">
        {{ .Content }}
      </div>

      <footer class="content-footer">
        {{ if .GitInfo }}
          <p class="git-info">
            üìù Last edited {{ .GitInfo.AuthorDate.Format "January 2, 2006" }}
            <a href="{{ .Site.Params.social.github }}/commit/{{ .GitInfo.Hash }}" target="_blank" rel="noopener">
              ({{ .GitInfo.AbbreviatedHash }})
            </a>
          </p>
        {{ end }}

        {{ if or .NextInSection .PrevInSection }}
          <nav class="page-nav">
            {{ with .PrevInSection }}
              <a href="{{ .RelPermalink }}" class="prev-page">
                ‚Üê {{ .Title }}
              </a>
            {{ end }}
            {{ with .NextInSection }}
              <a href="{{ .RelPermalink }}" class="next-page">
                {{ .Title }} ‚Üí
              </a>
            {{ end }}
          </nav>
        {{ end }}
      </footer>
    </article>
  </div>
{{ end }}
